/**
 * @author bh-lay
 * 
 * @github https://github.com/bh-lay/UI
 * @modified 2014-8-14 15:45
 * 
 **/
 !function(a,b,c,d){var e=d(a,b),f=c(a,b,e);a.UI=a.UI||f,a.UI._utils=e,a.define&&define(function(){return f})}(window,document,function(a,b,c){function N(){H=0==b.documentElement.scrollTop?D.scrollTop:b.documentElement.scrollTop,F=a.innerHeight||b.documentElement.clientHeight,G=M.scrollHeight,E=M.clientWidth,C&&c.removeNode(C);var d=[".UI_cover{height:"+F+"px;}",".UI_ask{top:"+F/2+"px;}",".UI_mask{height:"+G+"px;}"].join("");C=c.createStyleSheet(d,{"data-module":"UI_plug"})}function Q(a,b,c,d){var e=L.gap;return a<H+e.top?a=H+e.top:a+d-H>F-e.bottom&&(a=d>F-e.top-e.bottom?H+e.top:H+F-d-e.bottom),b<e.left?b=e.left:b+c>E-e.right&&(b=E-c-e.right),{top:a,left:b}}function R(a,b){var g,c=(F-b)/2+H,d=(E-a)/2,e=L.gap,f=(F-b)/2;return f<e.top&&(f=e.top),g=Q(c,d,a,b),{top:g.top,left:g.left,screenTop:f,screenLeft:g.left}}function S(a,b,d){var h,i,e=null,f=null,g=["确认","取消"];"function"==typeof b?e=b:"object"==typeof b&&(h=b.btns||[],g[0]=h[0]||g[0],g[1]=h[1]||g[1],"function"==typeof b.callback&&(e=b.callback),"function"==typeof b.cancel&&(f=b.cancel)),i=c.render(p,{confirm:g[0],cancel:g[1]}),a.appendChild(c.createDom(i)[0]),c.bind(a,"click",".UI_pop_confirm_ok",function(){e?0!=e()&&d():d()}),c.bind(a,"click",".UI_pop_confirm_cancel",function(){f?0!=f()&&d():d()})}function T(a){var b=D.childNodes;c.each(b,function(b,c){c!=x&&1==c.nodeType&&"SCRIPT"!=c.tagName&&"LINK"!=c.tagName&&"STYLE"!=c.tagName&&e(c,a)})}function V(){J++,1==J&&(c.fadeIn(y,400),U&&U())}function W(a,b,d,f,j){var k,l,m,n,o,p;b&&(k=c.offset(a),m={},n={width:h(a),height:i(a),top:k.top,left:k.left},b&&b.tagName&&b.parentNode?(f="SineEaseIn",d=200,o=c.offset(b),l={top:o.top,left:o.left,width:h(b),height:i(b)},m=c.clone(n,{})):"string"==typeof b&&(l=c.clone(n,{}),"left"==b?(l.left=n.left-K,m.left=n.left):"right"==b?(l.left=n.left+K,m.left=n.left):"bottom"==b?(l.top=n.top+K,m.top=n.top):(l.top=n.top-K,m.top=n.top)),p=c.createDom('<div style="position:absolute;background:#fff;"></div>')[0],e(a,{display:"none"}),l.opacity=0,e(p,l),z.appendChild(p),m.opacity=1,g(p,m,d,f,function(){c.removeNode(p),e(a,{display:"block"}),j&&j()}))}function X(a,b){return function(e){var i,j,k,h=this;e=d(e)?e:parseInt(a)||80,i=h._from,h.closeFn&&h.closeFn(),h._mask&&(J--,0==J&&(c.fadeOut(y,400),removeBlur&&removeBlur())),j=h.dom,k={opacity:0},i&&i.tagName&&i.parentNode?c.zoomOut(j,e,function(){c.removeNode(j),b&&b.call(h)}):"string"==typeof i?("top"==i?k.top=f(j,"top")-K:"left"==i?k.left=f(j,"left")-K:"bottom"==i?k.top=f(j,"top")+K:"right"==i&&("auto"!=f(j,"left")?k.left=f(j,"left")+K:k.right=f(j,"right")-K),g(j,k,e,"SineEaseIn",function(){c.removeNode(j),b&&b.call(h)})):(c.removeNode(j),b&&b.call(h))}}function Y(a){var b,g,h,k,n,o,p,q,r;a=a||{},b=this,this.dom=c.createDom(m)[0],this.cntDom=j(this.dom,"UI_pop_cnt")[0],this.closeFn=a.closeFn||null,this._mask=a.mask||!1,this._from=a.from||"top",g=a.html||"",h=a.width||Math.min(600,E-20),a.confirm&&S(this.dom,a.confirm,function(){b.close()}),k=j(this.dom,"UI_pop_cpt")[0],a.title?(n=a.title||"need title in parameter!",k.innerHTML=n,o=null,c.drag(k,this.dom,{start:function(){N(),o=c.createDom(l)[0],e(o,{width:E,height:F,cursor:f(k,"cursor")}),A.appendChild(o)},move:function(a,c,d,f,g,h){var i=a+d,j=c+f,k=Q(j,i,g,h);e(b.dom,{left:k.left,top:k.top})},end:function(){o&&c.removeNode(o),o=null}})):c.removeNode(k),this.cntDom.innerHTML=g,e(this.dom,{width:h}),z.appendChild(this.dom),p=R(h,i(this.dom)),q=d(a.top)?a.top:p.top,r=d(a.left)?a.left:p.left,e(this.dom,{top:q,left:r}),W(this.dom,this._from,200,"QuadEaseIn"),c.bind(this.dom,"click",".UI_pop_close",function(){b.close()}),this._mask&&V()}function Z(a){var b,d,g,h,j;a=a||{},b=this,d=a.text||"need text in parameter!",a.callback||null,g=c.render(n,{text:d}),this.dom=c.createDom(g)[0],this.closeFn=a.closeFn||null,this._mask="boolean"==typeof a.mask?a.mask:!0,this._from=a.from||null,this._mask&&V(),S(this.dom,a,function(){b.close()}),e(this.dom,{width:300}),A.appendChild(this.dom),h=i(this.dom),j=R(300,h),e(this.dom,{left:j.screenLeft,top:j.screenTop}),W(this.dom,this._from,100,"BackEaseOut")}function $(a,b,d){var g,h,i,k,f=this;d=d||{},g=a||"need text in parameter!",h=c.render(o,{text:g}),this.dom=c.createDom(h)[0],this._from=d.from||"top",this.inputDom=j(f.dom,"UI_ask_key")[0],this.closeFn=null,this.callback=b||null,i=c.render(p,{confirm:"确定",cancel:"取消"}),this.dom.appendChild(c.createDom(i)[0]),c.bind(this.dom,"click",".UI_pop_confirm_ok",function(){f.callback?0!=f.callback(f.inputDom.value)&&f.close():f.close()}),c.bind(this.dom,"click",".UI_pop_confirm_cancel",function(){f.close()}),k=R(300,160),A.appendChild(this.dom),e(this.dom,{width:300,left:k.screenLeft,marginTop:-100}),W(this.dom,this._from,100,"BackEaseOut",function(){f.inputDom.focus()})}function _(a,b){var f;a=a||"need text in arguments!",this.dom=c.createDom(r)[0],this._from="top",this.tips(a,b),f=R(260,100),e(this.dom,{top:100,opacity:0}),A.appendChild(this.dom),g(this.dom,{top:f.screenTop,opacity:1},140,"BackEaseOut")}function ab(){c.each(private_activePlane,function(a,b){b.close()}),private_activePlane=[]}function bb(a){setTimeout(function(){for(var b=a.srcElement||a.target;!c.hasClass(b,"UI_plane");)if(b=b.parentNode,!b){ab();break}})}function cb(a){var f,b=this;setTimeout(function(){private_activePlane.push(b)},20),a=a||{},f=a.html||"",this.closeFn=a.closeFn||null,this.dom=c.createDom(q)[0],this._from=a.from||null,this.dom.innerHTML=f,e(this.dom,{width:a.width||240,height:a.height||null,top:d(a.top)?a.top:300,left:d(a.left)?a.left:800}),z.appendChild(this.dom),W(this.dom,this._from,100,"BackEaseOut")}function db(a){var b,g,h;a=a||{},b=this,this.dom=c.createDom(s)[0],this._mask="boolean"==typeof a.mask?a.mask:!1,this._from=a.from||"top",this.cntDom=j(this.dom,"UI_coverCnt")[0],this.closeFn=a.closeFn||null,g=a.html||"",c.bind(this.dom,"click",".UI_coverClose",function(){b.close()}),A.appendChild(this.dom),this._bodyOverflowY=f(D,"overflowY"),h={width:d(a.width)?Math.min(E,a.width):E,top:H},d(a.height)&&(h.height=Math.min(F,a.height)),d(a.right)?h.right=a.right:d(a.left)?h.left=a.left:(h.position="relative",h.margin="auto"),h.top=d(a.bottom)?F-(h.height||F)-a.bottom:d(a.top)?a.top:(G-h.heigh)/2,e(b.dom,h),W(this.dom,this._from,200,"QuadEaseIn",function(){e(D,{overflowY:"hidden"})}),this._mask&&V(),this.cntDom.innerHTML=g}function eb(a,b){var f,h,i,k,d=this;b=b||{},a=a||[],f=[],h=[],c.each(a,function(a,b){h.push(b[0]),f.push(b[1])}),i=c.render(t,{list:h,title:b.title||null,intro:b.intro||null}),this.dom=c.createDom(i)[0],this.closeFn=b.closeFn||null,E>640?(this._mask=!1,new cb({top:b.top||100,left:b.left||100,width:b.width||200,height:0,closeFn:function(){d.close()}}).dom.appendChild(this.dom),e(this.dom,{position:"relative",width:"100%"})):(this._mask=!0,e(this.dom,{bottom:-100,opacity:0}),B.appendChild(this.dom),g(this.dom,{bottom:0,opacity:1},300,"ElasticEaseOut")),this._mask&&V(),k=j(this.dom,"UI_select_btn"),c.each(k,function(a,b){c.bind(b,"click",function(){f[a]&&f[a](),d.close()})})}var w,E,F,G,H,x,y,z,A,B,C,D,J,K,L,M,P,U,d=c.isNum,e=c.css,f=c.getStyle,g=c.animation,h=c.outerWidth,i=c.outerHeight,j=c.findByClassName,k='<div class="UI_lawyer"><div class="UI_mask"></div><div class="UI_main_cnt"></div><div class="UI_fixedScreenTop_cnt"></div><div class="UI_fixedScreenBottom_cnt"></div></div>',l='<div style="position:absolute;top:0px;left:0px;z-index:100000;cursor:default;"></div>',m='<div class="UI_pop"><div class="UI_pop_cpt"></div><div class="UI_pop_cnt"></div><a href="javascript:void(0)" class="UI_pop_close" title="关闭">×</a></div>',n='<div class="UI_confirm"><div class="UI_confirm_text"><%=text %></div></div>',o='<div class="UI_ask"><div class="UI_ask_text"><%=text %></div><input class="UI_ask_key" type="text" name="UI_ask_key"/></div>',p='<div class="UI_pop_confirm"><a href="javascript:void(0)" class="UI_pop_confirm_ok"><%=confirm %></a><a href="javascript:void(0)" class="UI_pop_confirm_cancel"><%=cancel %></a></div>',q='<div class="UI_plane"></div>',r='<div class="UI_prompt"><div class="UI_cnt"></div></div>',s='<div class="UI_cover"><div class="UI_coverCnt"></div><a href="javascript:void(0)" class="UI_coverClose">×</a></div>',t='<div class="UI_select"><div class="UI_select_body"><% if(title){ %><div class="UI_selectCpt"><h3><%=title %></h3><% if(intro){ %><p><%=intro %></p><% } %></div><% } %><div class="UI_selectCnt"><% for(var i=0,total=list.length;i<total;i++){ %><a class="UI_select_btn" href="javascript:void(0)"><%=list[i] %></a><% } %></div></div><div class="UI_selectCancel"><a class="UI_select_btn" href="javascript:void(0)" data-index="-1">取消</a></div></div>',u='.UI_lawyer{position:absolute;top:0px;left:0px;z-index:4999;width:100%;height:0px;overflow:visible;font-family:"Microsoft Yahei"}.UI_lawyer a,.UI_lawyer a:hover{text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}.UI_lawyer a:active{outline:none}.UI_mask{position:absolute;top:0px;left:0px;width:100%;background-color:#000;display:none;opacity:0.5;filter:alpha(opacity=50)}.UI_main_cnt{width:0px;height:0px;overflow:visible}.UI_fixedScreenTop_cnt{position:absolute;z-index:4999;top:0px;left:0px;width:100%;height:0px;overflow:visible}.UI_fixedScreenBottom_cnt{position:absolute;z-index:4999;left:0px;width:100%;height:0px;overflow:visible}.UI_pop{width:200px;_border:1px solid #eee;position:absolute;top:400px;left:300px;background:#fff;overflow:hidden;box-shadow:2px 3px 10px rgba(0,0,0,0.6)}.UI_pop_cpt{position:relative;height:36px;line-height:36px;overflow:hidden;border-bottom:1px solid #ebebeb;color:#777;font-size:16px;text-indent:15px;cursor:default}.UI_pop_cnt{position:relative;min-height:100px;overflow:auto;width:100%}.UI_pop_close{display:block;position:absolute;top:0px;right:0px;width:40px;height:36px;text-align:center;color:#ddd;font:bold 20px/36px "simsun";transition:0.1s}.UI_pop_close:hover{color:#888}.UI_pop_close:active{color:#222}.UI_confirm{_border:1px solid #eee;position:absolute;background:#fff;overflow:hidden;box-shadow:2px 3px 10px rgba(0,0,0,0.6)}.UI_confirm_text{padding:30px 10px 20px;line-height:26px;text-align:center;font-size:20px;color:#333}.UI_ask{_border:1px solid #eee;position:absolute;background:#fff;overflow:hidden;box-shadow:2px 3px 10px rgba(0,0,0,0.6)}.UI_ask_text{padding:25px 10px 15px;line-height:26px;text-align:center;font-size:18px;color:#333}.UI_ask input{display:block;margin:0px auto 15px;height:30px;padding:4px 4px;line-height:22px;box-sizing:border-box;width:90%}.UI_pop_confirm{overflow:hidden;text-align:center;border-top:1px solid #ddd}.UI_pop_confirm a{display:block;width:50%;height:36px;float:left;font-size:14px;line-height:36px;color:#03f;box-sizing:border-box;transition:0.15s}.UI_pop_confirm_ok{border-right:1px solid #ddd}@media(min-width:640px){.UI_pop_confirm a:hover{background:#eee}}.UI_plane{width:200px;position:absolute;top:400px;left:300px}.UI_prompt{width:240px;position:absolute;left:50%;margin-left:-120px;box-sizing:content-box;background:#fff;_border:1px solid #fafafa;box-shadow:2px 2px 10px rgba(0,0,0,0.5)}.UI_cnt{padding:30px 10px;font-size:18px;color:#222;text-align:center}.UI_cover{position:absolute;top:0px;width:100%;height:100px}.UI_coverCnt{position:relative;width:100%;height:100%;background:#fff;overflow:auto}.UI_coverClose{display:block;position:absolute;top:10px;right:20px;width:30px;height:30px;text-align:center;color:#aaa;font:18px/30px "simsun";background:#eee;border-radius:15px;border:1px solid #aaa}.UI_coverClose:hover{background-color:#333;color:#fff;transition:0.2s}.UI_select{position:absolute;width:100%;padding-bottom:10px}.UI_select a{display:block;height:40px;line-height:40px;text-align:center;color:#03f;font-size:16px}.UI_select_body{margin:0px 10px 10px;border-radius:8px;overflow:hidden;background:#fff}.UI_selectCpt{padding:8px 0px}.UI_selectCpt h3,.UI_selectCpt p{margin:0px;font-size:15px;line-height:18px;text-align:center;color:#aaa;font-weight:normal}.UI_selectCpt p{font-size:12px}.UI_selectCnt a{border-top:1px solid #eee}.UI_selectCancel{margin:0px 10px;border-radius:8px;overflow:hidden;background:#fff}.UI_main_cnt .UI_select{width:200px;padding:0px;border-radius:0px;box-shadow:2px 1px 5px rgba(0,0,0,0.8)}.UI_main_cnt .UI_select_body,.UI_main_cnt .UI_selectCancel{margin:0px;border-radius:0px}.UI_main_cnt .UI_select a{height:34px;line-height:34px;font-size:14px}.UI_main_cnt .UI_selectCancel{display:none}',v=!1;return"Microsoft Internet Explorer"==navigator.appName&&(w=navigator.appVersion.split(";")[1].replace(/[ ]/g,""),("MSIE6.0"==w||"MSIE7.0"==w)&&(v=!0)),x=c.createDom(k)[0],y=j(x,"UI_mask")[0],z=j(x,"UI_main_cnt")[0],A=j(x,"UI_fixedScreenTop_cnt")[0],B=j(x,"UI_fixedScreenBottom_cnt")[0],C=null,D=b.body,J=0,K=240,L={gap:{top:0,left:0,bottom:0,right:0},zIndex:499},M="BackCompat"==b.compatMode?D:b.documentElement,c.createStyleSheet(u,{"data-module":"UI"}),D.appendChild(x),u=null,k=null,N(),setTimeout(N,500),P=null,v?(e(A,{top:H}),e(B,{top:H+F}),P=function(){N(),e(A,{top:H}),e(B,{top:H+F}),e(y,{top:H})}):(e(A,{position:"fixed",top:0}),e(B,{position:"fixed",bottom:0}),P=N),c.bind(a,"resize",P),c.bind(a,"scroll",P),U=removeBlur=null,c.supports("-webkit-filter")&&(U=function(){T({"-webkit-filter":"blur(1px)"})},removeBlur=function(){T({"-webkit-filter":"blur(0)"})}),Y.prototype.close=X(200),Y.prototype.adapt=function(){var a=h(this.dom),b=i(this.dom),c=R(a,b);g(this.dom,{top:c.top,left:c.left},100)},Z.prototype.close=X(200),$.prototype.close=X(200),$.prototype.setValue=function(a){this.inputDom.value=a.toString()},_.prototype.close=X(80),_.prototype.tips=function(a,b){var c=this;a&&(j(this.dom,"UI_cnt")[0].innerHTML=a),0!=b&&setTimeout(function(){c.close()},b||1500)},private_activePlane=[],c.bind(b,"mouseup",bb),cb.prototype.close=X(200),db.prototype.close=X(200,function(){var a=this;e(D,{overflowY:a._bodyOverflowY})}),eb.prototype.close=function(){this.closeFn&&this.closeFn(),this._mask&&(J--,0==J&&(c.fadeOut(y,400),removeBlur&&removeBlur()));var d=this.dom;c.slideUp(d,200,function(){c.removeNode(d)})},{pop:function(){return new Y(arguments[0])},config:{gap:function(a,b){a&&"number"==typeof L.gap[a]&&d(b)&&(L.gap[a]=parseInt(b))},zIndex:function(a){var a=parseInt(a);a>0&&(L.zIndex=a,e(x,{zIndex:a}),e(B,{zIndex:a}),e(A,{zIndex:a}))}},confirm:function(){return new Z(arguments[0])},ask:function(a,b,c){return new $(a,b,c)},prompt:function(a,b){return new _(a,b)},plane:function(){return new cb(arguments[0])},cover:function(){return new db(arguments[0])},select:function(){return new eb(arguments[0],arguments[1])}}},function(a,b){function c(a){return Object.prototype.toString.call(a).match(/\s(\w+)/)[1]}function d(a){return""!==a&&a==+a?!0:!1}function e(a,b){var c,e;if("object"==typeof a&&"function"==typeof b)if(c=a.length,d(c))for(e=0;c>e&&b.call(this,e,a[e])!==!1;e++);else for(e in a)if(a.hasOwnProperty(e)&&b.call(this,e,a[e])===!1)break}function f(a,b){return e(a,function(a,c){"object"==typeof c?(b[a]=c.constructor==Array?[]:{},f(c,b[a])):b[a]=c}),b}function j(a,b){var c=a.className;return c&&c.length?a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)")):!1}function k(a,c){var e,f;return"borderWidth"==c?c="borderLeftWidth":c,a.style[c]?e=a.style[c]:b.defaultView?(f=b.defaultView.getComputedStyle(a,null),e=c in f?f[c]:f.getPropertyValue(c)):a.currentStyle&&(e=a.currentStyle[c]),/\px$/.test(e)?e=parseInt(e):d(e)?e=e=parseInt(1e4*e)/1e4:""==e||"medium"==e?e=0:"auto"==e&&"height"==c&&(e=a.clientHeight),e}function l(a,b,c){b=b.toString(),"opacity"==b?(a.style.filter="alpha(opacity="+100*c+")",c=c):d(c)&&(c+="px"),a.style[b]=c}function m(a,b){e(b,function(b,c){l(a,b,c)})}function n(a,b){var c=[],f=[],g=[];return e(b,function(b,e){var h=k(a,b);/\px$/.test(h)&&(h=parseInt(h)),d(h)&&(h=parseInt(1e4*h)/1e4,c.push(b),f.push(h),g.push(e))}),[c,f,g]}function p(a,b,c,d,e){this.elem=a;var f=n(this.elem,b);this.props=f[0],this.cssOri=f[1],this.cssEnd=f[2],this.durtime=c,this.animType=d||"Linear",this.onEnd=e,this.startAnim()}function q(a,b,c,d,e){function j(){clearTimeout(i),i=setTimeout(function(){a.removeEventListener("webkitTransitionEnd",j,!0),m(a,{"-webkit-transition":g}),e&&e.call(a)},30)}var i,g=k(a,"-webkit-transition"),h=f(b,{"-webkit-transform":"translate3d(0, 0, 0)","-webkit-transition":c+"ms"});a.addEventListener("webkitTransitionEnd",j,!0),m(a,h)}function r(a,b,d,e,f){var g="Linear",i=null;if(arguments.length<3)throw new Error("missing arguments [dom,cssObj,durtime]");return"Function"==c(e)?i=e:"string"==typeof e&&(g=e),"Function"==c(f)&&(i=f),h?q(a,b,d,g,i):new p(a,b,d,g,i)}function v(a){return k(a,"borderLeftWidth")+k(a,"paddingLeft")+k(a,"width")+k(a,"paddingRight")+k(a,"borderRightWidth")}function w(a){return k(a,"borderTopWidth")+k(a,"paddingTop")+k(a,"height")+k(a,"paddingBottom")+k(a,"borderBottomWidth")}function z(a,b,c){for(var d=a.srcElement||a.target;;){if(d==c||!d)return!1;if(j(d,b))return d;d=d.parentNode}}function A(a,b,c,d){var e,f;"string"==typeof c?(e=c.replace(/^\./,""),f=d,x(a,b,function(b){var c=z(b,e,a);c&&f&&f.call(c)})):(f=c,x(a,b,f))}var s,t,u,x,y,g=function(){var a=b.createElement("div").style,c="Webkit Khtml Ms O Moz".split(/\s/);return function(b){var d=!1;return b in a?d=b:(b=b.replace(/^[a-z]/,function(a){return a.toUpperCase()}),e(c,function(c,e){return e+b in a?(d=("-"+e+"-"+b).toLowerCase(),!1):void 0})),d}}(),h=g("-webkit-transition")&&g("-webkit-transform")?!0:!1,i={Linear:function(a,b,c,d){return c*a/d+b},QuadEaseIn:function(a,b,c,d){return c*(a/=d)*a+b},SineEaseIn:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},SineEaseOut:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},ElasticEaseOut:function(a,b,c,d,e,f){var g;return 0==a?b:1==(a/=d)?b+c:(f||(f=.3*d),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),e*Math.pow(2,-10*a)*Math.sin((a*d-g)*2*Math.PI/f)+c+b)},BackEaseOut:function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b}},o=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||function(b){return a.setTimeout(b,10)}}();return p.prototype.startAnim=function(){function g(){var i,j,k,m,h=new Date-c;for(b>h?o(g):(h=b,e=!0),m=0;f>m;m++)i=1e4*a.cssOri[m],j=1e4*a.cssEnd[m],k=d(h,i,j-i,b)/1e4,l(a.elem,a.props[m],k);e&&a.onEnd&&a.onEnd.call(a,a.elem)}var a=this,b=this.durtime,c=new Date,d=i[a.animType],e=!1,f=this.props.length;o(g)},u=b.createElement("div"),"undefined"!==u.getBoundingClientRect?(s=function(a){var b=a.getBoundingClientRect().width||0;return"undefined"!=typeof b?b:v(a)},t=function(a){var b=a.getBoundingClientRect().height||0;return"undefined"!=typeof b?b:w(a)}):(s=v,t=w),x=function(){return a.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:a.attachEvent?function(a,b,c){a.attachEvent("on"+b,c)}:void 0}(),y=function(){return a.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:a.detachEvent?function(a,b,c){a.detachEvent("on"+b,c)}:void 0}(),{TypeOf:c,isNum:d,each:e,getStyle:k,css:m,animation:r,supports:g,hasClass:j,outerWidth:s,outerHeight:t,bind:A,clone:f,unbind:y,ready:function(){function d(){y(b,"DOMContentLoaded",d),y(a,"load",d),e(c,function(a,b){b()}),c=null}var c=[];return function(e){"complete"===b.readyState?e&&e():(e&&c.push(e),x(b,"DOMContentLoaded",d),x(a,"load",d))}}(),zoomOut:h?function(a,b,c){var d=k(a,"opacity");q(a,{"-webkit-transform":"scale(0.5)",opacity:0},b,null,function(){m(a,{"-webkit-transform":"scale(1)",opacity:d}),c&&c.call(a)})}:function(a,b,c){var e,f,g,h,d=k(a,"opacity");a.style.overflow="hidden",e=k(a,"width"),f=t(a),g=k(a,"left")||0,h=k(a,"top")||0,r(a,{width:e/2,height:f/2,left:g+e/4,top:h+f/4,opacity:0},b,function(){a.style.opacity=d,a.style.display="none",c&&c.call(a)})},drag:function(c,d,e){function p(c){g&&g.call(d,c.clientX-i,c.clientY-j,l,m,n,o),c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation(),a.getSelection?a.getSelection().removeAllRanges():b.selection.empty()}function q(){y(b,"mousemove",p),y(b,"mouseup",q),h&&h.call(d)}var f,g,h,i,j,l,m,n,o;e=e||{},f=e.start||null,g=e.move||null,h=e.end||null,x(c,"mousedown",function(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),i=a.clientX,j=a.clientY,l=k(d,"left"),m=k(d,"top"),n=s(d),o=t(d),f&&f.call(d,i,j),x(b,"mousemove",p),x(b,"mouseup",q)})},createDom:function(a){var c=b.createElement("div");return c.innerHTML=a,c.childNodes},removeNode:function(a){a&&a.parentNode&&"BODY"!=a.tagName&&a.parentNode.removeChild(a)},createStyleSheet:function(a,c){var f,d=b.createElement("style");return c=c||{},c.type="text/css",e(c,function(a,b){d.setAttribute(a,b)}),d.styleSheet?d.styleSheet.cssText=a:(f=b.createTextNode(a),d.appendChild(f)),(b.head||b.getElementsByTagName("head")[0]).appendChild(d),d},findByClassName:function(){return"undefined"!=typeof b.getElementsByClassName?function(a,b){return a.getElementsByClassName(b)}:function(a,b){var c=[],d=a.getElementsByTagName("*");return e(d,function(a,d){j(d,b)&&c.push(d)}),c}}(),offset:function(a){var d,c={top:0,left:0,screen_top:0,screen_left:0};return"undefined"!=typeof a.getBoundingClientRect&&(d=a.getBoundingClientRect()),c.screen_top=d.top,c.screen_left=d.left,c.top=d.top+b.body.scrollTop,c.left=d.left+b.body.scrollLeft,c},slideUp:function(a,b,c){a.style.overflow="hidden",r(a,{height:0,padding:0},b,function(){a.style.display="none",c&&c.call(a)})},fadeIn:function(a,b,c){var d=k(a,"opacity");a.style.opacity=0,a.style.display="block",r(a,{opacity:d},b,function(){c&&c.call(a)})},fadeOut:function(a,b,c){var d=k(a,"opacity");r(a,{opacity:0},b,function(){a.style.opacity=d,a.style.display="none",c&&c.call(a)})},render:function(a,b){return a&&b?new Function("obj","var p=[];with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');")(b):""}}});